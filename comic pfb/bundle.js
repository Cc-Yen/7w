(()=>{var e,t,n,a=Object.freeze({AuthRegGameServer:0,authorize:1,register:2,login:3,msg:4,list:5,trade:6,mail:7,server_queue:8,game:9,game_menu:10,dCmd:11,可忽略:16}),r=(Object.freeze({訪客:0,七戲:1,旁門:2}),Object.freeze({authorize:0,授權GameLobby:0,授權AppGame:1,register:1,login:2,message:3,list:4,trans:5,mail:6,server_queue:7,ui_menu:8,logic:9,eCmds_dCmd:10,eCmd_可忽略:16})),i=(Object.freeze({GameLobby:0,Main:1,TopBoard:2,Options:3,Store:4,Help:5,GamePicking:6,Game:7}),Object.freeze({bl:0,c1:1,sa:2,sr:3,s1:4,s2:5,s3:6,sm:7,bt:8,i1:9,u1:10,i2:11,u2:12,i4:13,u4:14,i8:15,u8:16,db:17,fl:18,de:19,i1n:20,u1n:21,i2n:22,u2n:23,i4n:24,u4n:25,i8n:26,u8n:27,dbn:28,fln:29,den:30,ato:31,u1c:32,pu:33,pi:34,ps:35,pf:36,count:37}));function o(a,r,i,o,l,c,u){var h=[];h.push(a,r);for(var d=0;d<i.length;d++)h.push(2+o[d].length),h.push(i[d]),h=h.concat(o[d]);void 0!==c&&(c.disableInteractive(),(n=c.getChildByID("lstate")).innerHTML="等待伺服器回應…",t=setInterval(s,100,[u,100])),e.send(new Uint8Array(h)),h=[]}function s(e){e[0]=e[0]-e[1],"等待伺服器回應…"!=n.innerHTML?clearInterval(t):0==e[0]&&(clearInterval(t),n.innerHTML="伺服器沒有回應，請稍後再試…")}var l=void 0===document.pp?decodeURIComponent(window.location.search).substring(1).split("&"):document.pp;function c(e,t,n,a){e.meta=void 0===a?{}:a,e.btnDATA=void 0===t?[]:t,e.id_選中鈕=0,e.max行程_夾住模式={x:0,y:0},e.max行程_滾動項目堆={x:0,y:0},e.pos原點_滾動項目堆={x:0,y:0},e.dir={x:1,y:0},e._項目標題文=n._項目標題文,e.sp_背景框=n.sp_背景框,e.sp_前景項目=n.sp_前景項目,e.iColor=n.color,e.name_IO溝通,e.data_由文件內容={},e.key_類別資料,e.data_目前選中類別的章關,e.sp_供主類別前景項目;var r,i,o=e.getElementsByClassName("iBn");e.Init=function(){var t=o[0],n=o[o.length-1];t.getBoundingClientRect().left==n.getBoundingClientRect().left&&t.getBoundingClientRect().top==n.getBoundingClientRect().top||(clearInterval(i),console.log("scrl.id ",e.id),e.is_水平模式=t.getBoundingClientRect().top==n.getBoundingClientRect().top,console.log("scrl.is_水平模式 ",e.is_水平模式),e.unit_travel=e.is_水平模式?o[0].getBoundingClientRect().width:o[0].getBoundingClientRect().height,console.log("scrl.unit_travel  ",e.unit_travel),r=.5*e.unit_travel,e.is_水平模式?e.scrollLeft+=e.unit_travel:e.scrollTop+=e.unit_travel)},i=setInterval(e.Init,49),e.Set_項目=function(t,n){var a=e.btnDATA[t.id];t.innerHTML=a?CcUtility.Get_詞嵌入文(e._項目標題文,void 0===n?a._標題變數值:n):t.id};for(var s=0;s<o.length;s++)e.Set_項目(o[s],[s+1]);return e.Reset_BtnDATA=function(){for(var t=0;t<o.length;t++)e.Set_項目(o[t])},e.限速=function(){return e.Update_ScrollView(),CcUtility.Clamp(arguments[0],r,-r)},e.releaseTime=n.releaseTime,e.力衰退intervalTime=n.力衰退intervalTime,e.On拖力漸緩衰退=function(){var t=this,n=t.releaseTime,a=setInterval((function(){t.scrollBy(e.限速(t.lastMovement.x),e.限速(t.lastMovement.y)),(n-=t.力衰退intervalTime)<=0&&clearInterval(a)}),t.力衰退intervalTime)},e.Update_ScrollView=function(){var t=e.btnDATA.length,n=this.is_水平模式?e.scrollLeft:e.scrollTop;n>1.5*this.unit_travel?(o[0].id=(parseInt(o[o.length-1].id)+1)%t,e.Set_項目(o[0]),e.insertAdjacentElement("beforeend",o[0]),e.scrollLeft-=this.unit_travel):n<.5*this.unit_travel&&(o[o.length-1].id=(parseInt(o[0].id)+t-1)%t,e.Set_項目(o[o.length-1]),e.insertAdjacentElement("afterbegin",o[o.length-1]),e.scrollLeft+=this.unit_travel)},e.isMouseDown=!1,e.isMouseUP=!1,e.mouseMoveDelta=0,e.addEventListener("mouseup",u),e.addEventListener("mousedown",u),e.addEventListener("mousemove",u),e.addEventListener("mouseenter",u),e.addEventListener("mouseleave",u),e.addEventListener("scroll",e.Update_ScrollView),e}function u(e){var t=e.currentTarget;switch(e.type){case"mousemove":t.isMouseDown&&(t.isMouseUP||(t.scrollBy(t.限速(-e.movementX),t.限速(-e.movementY)),t.lastMovement={x:-e.movementX,y:-e.movementY}));break;case"mouseup":t.isMouseUP=!0,t.On拖力漸緩衰退();break;case"mousedown":t.isMouseDown=!0,t.isMouseUP=!1;break;case"mouseenter":t.isMouseDown=t.isMouseUP=!1;break;case"mouseleave":t.isMouseDown&&!t.isMouseUP&&(t.isMouseUP=!0,t.On拖力漸緩衰退())}}function h(){}function d(e){e.forEach((function(e){e.visible=!1}),this),e.reverse();var t=e.getAt(0),n=e.getAt(1);this._字身=Math.round(Math.max(t.centerX-n.centerX,n.centerY-t.centerY)),this._字句=e,this._橫數=Math.ceil(e.j_h/this._字身),this._豎數=Math.ceil(e.j_w/this._字身),this._字句寬=this._豎數*this._字身,this._可見豎數=Math.round(e.parent.j_w/this._字身),this._可見字數=this._可見豎數*this._橫數}console.log(l),h.prototype.Is_夾住限制=function(){var e=!1,t=.2*this.unit_travel,n=Phaser.Math.RoundTo(this.pnl_btnGroup.p);return is_水平模式?this.pnl_btnGroup.x=n.x>0?(e=n.x>max行程_夾住模式.x)?n.x>max行程_夾住模式.x+t?max行程_夾住模式+t:n.x-1:n.x:(e=n.x<-max行程_夾住模式.x)?n.x<-max行程_夾住模式.x-t?-max行程_夾住模式+t:n.x+1:n.x:this.pnl_btnGroup.y=n.y>0?(e=n.y>max行程_夾住模式.y)?n.y>max行程_夾住模式.y+t?max行程_夾住模式+t:n.y-1:n.y:(e=n.y<-max行程_夾住模式.y)?n.y<-max行程_夾住模式.y-t?-max行程_夾住模式+t:n.y+1:n.y,this.scene.input.setDraggable(this.pnl_btnGroup,!e),e},h.prototype.GetSnapedTravel=function(){return Phaser.Math.RoundTo(this.pnl_btnGroup.p/this.unit_travel)},h.prototype.UpdatePosSide=function(e){return e*this.unit_travel},h.prototype.SetPos=function(e,t){this.is_水平模式?e.x=t:e.y=t},h.prototype.ResetItemData=function(e,t,n,a,r,i){if(data_目前選中類別的章關=e,void 0===n)n=p;else for(var o=n.length-(n.length-p.length);o<n.length;o++)p[o]=p[0];if(null!=sp_供主類別前景項目)for(r=new Sprite[data_目前選中類別的章關[0].length],o=0;o<data_目前選中類別的章關[0].length;o++)r[o]=sp_供主類別前景項目[">"];sp_前景項目=void 0===r?sp_前景項目:r,sp_背景框=void 0===a?sp_背景框:a,data_目前選中類別的章關[0].length,id_獨特.length,id_獨特=data_目前選中類別的章關[0],iLable=data_目前選中類別的章關[1];var s="s格_"+name_IO溝通;if(CcLoader.app_cfg.ContainsKey(s))for(o=0;o<iLable.length;o++)iLable[o]=string.Format(CcLoader.app_cfg[s],iLable[o]);is_Srolling||(is_Srolling=!0,StartCoroutine(SrollingResetItems(t,n,i)))},d._目前步=0,d._目前步已讀完td=0,d._每字讀秒=490,d.prototype._跑字句=function(){this.travels=0,this.runtext=B.time.events.loop(142,(function(){this._字句.getAt(this.travels).visible=!0,this.travels++,this.travels>=this._可見字數&&1==this.travels%this._橫數&&(this._字句.x=this._字句.x+this._字身),this.travels>=this._字句.length&&(d._目前步已讀完td+=1,B.time.events.remove(this.runtext),console.log(d._目前步已讀完td,"this.目前步已讀完成字句框數"))}),this)},d.prototype.歸零=function(){this._字句.foreach((function(e){e.visible=!1}),this),this.pos_文字偏移量=0};var _,g,m,p=[16711680,16737792,16776960,65280,255,1539248,10027212,4509429,7402239,16751052],f=Object.freeze({初始化:0,房桌訊:1,進入遊戲:2,押注開獎:3,即時訊息:4,放棄投降:5,每手計時:6}),v=[],b=[];function y(){_=B.cache.getJSON("j_共用_話圖資源頁").textures;for(var e=B.cache.getJSON("j_共用_話圖資源頁").BMD,t=0;t<e.length;t++)w(e[t])}function M(e){g=B.cache.getJSON("j_lp"),_=g.textures.concat(B.cache.getJSON("j_共用_話圖資源頁").textures),v=g.BMD,m=g.GB,g.steps;for(var t=0;t<g.textures.length;t++){var n=_[t];console.log("j_切圖塊資訊.image, j_切圖塊資訊.url",n.image,n.url),B.load.image(n.image,n.url)}console.log("===========================================",_),B.load.onLoadComplete.add(E),B.load.start()}function E(){for(var e=0;e<v.length;e++)w(v[e]);var t=Object.getOwnPropertyNames(m);for(e=0;e<t.length;e++)m.name=t[e];!function(){for(var e=g.steps,t=0;t<e.length;t++){var n=JSON.parse(JSON.stringify(e[t])),a=B.add.group(B.world,n.name);a.tn=[],a.td=[],a.ts=[];for(var r=0;r<n.parts.length;r++){var i=A(n.parts[r],a);T(i,n.parts[r]),i.alpha=0,i.visible=!1,/^group_p\d+_step\d+_td\d+/.test(i.name)?(a.add(i),a.td.push(i),i.forEach((function(e){0==e.name.indexOf("group_話引箭號")&&(e.alpha=0,i._話引箭號=e)}))):/^group_p\d+step\d+準切塊的點陣圖\d+/.test(i.name)?(a.addAt(i,0),i.alpha=1,i.visible=!0):/^group_p\d+_step\d+_tn\d+/.test(i.name)?(a.addAt(i,1),a.tn.push(i),i.alpha=0,i.visible=!0):(a.addAt(i,1),a.ts.push(i),i.alpha=1,i.visible=!0)}a.json=n,b.push(a),a.alpha=0,a.visible=!1}setTimeout(D,1e3)}()}function w(e){for(var t=B.make.bitmapData(Math.ceil(e.w),Math.ceil(e.h),e.name,!0),n=e.parts,a=(e.name.indexOf("準切塊"),0);a<n.length;a++){var r=n[a],i=S(r.name),o=B.cache.getBitmapData(r.name);if(null!=i){var s=I(i,r,!0);t.copy(s,0,0,s.width,s.height,r.x,r.y,s.width,s.height,r.rot/180*-Math.PI,.5,.5)}else if(o)t.copy(o,0,0,o.width,o.height,r.x,r.y,o.width,o.height,r.rot/180*-Math.PI,.5,.5,r.sW,r.sH);else if("draw_circle"===r.name){var l=Math.ceil(.5*r.w);r.sH>r.sW&&(l=Math.ceil(l*r.sH),r.sW=r.sW/r.sH,r.sH=1);var c=Math.ceil(2*l),u=B.make.bitmapData(c,c);u.circle(l,l,l,"#"+x(r.R,r.G,r.B)),t.copy(u,0,0,c,c,r.x,r.y,c*r.sW,c*r.sH,r.rot/180*-Math.PI,.5,.5)}else if("draw_rect"===r.name){var h=B.make.bitmapData(r.w,r.h);h.fill(Math.max(16,r.R),Math.max(16,r.G),Math.max(16,r.B)),t.copy(h,0,0,r.w,r.h,r.x,r.y,r.w,r.h,r.rot/180*-Math.PI,.5,.5)}}return t}function x(e,t,n){return Math.max(16,e).toString(16)+Math.max(16,t).toString(16)+Math.max(16,n).toString(16)}function T(e,t){if(t.name,null!=e.length){var n=[];e.forEach((function(e){n.push(e)}),this),e.removeAll(),e.x=e.j_x-.5*t.w,e.y=e.j_y-.5*t.h;for(var a=0;a<n.length;a++){var r=n[a];e.add(r),r.x=r.j_x,r.y=r.j_y}}}function A(e,t){var n={},a=e.name,r=S(a),i=B.cache.getBitmapData(a);return r?n=I(r,e):i?(n=B.add.image(e.x,e.y,i)).anchor.set(.5,.5):n=function(e,t){var n,a=e.name,r=m[a],i=B.add.group(B.world,a);if(0===a.indexOf("mask_group_")&&(i.j_w=r.w,i.j_h=r.h,n=function(e,t){var n=e.name,a=(m[n],B.add.graphics(0,0,t));return a.beginFill(16717334),a.drawRect(.5*-e.w,.5*-e.h,e.w,e.h),a.endFill(),a}(e,i)),r.hasOwnProperty("parts"))for(var o=0;o<r.parts.length;o++){var s=r.parts[o],l=(s.name,A(s,i));P(l,s),i.add(l),null!=n&&(l.centerX=l.centerX-.5*n.width,l.centerY=l.centerY-.5*n.height,l.mask=n,l.j_w=s.w,l.j_h=s.h,/mask_group_字塊_p\d+_step\d+_td\d+/.test(a)&&(t._讀字機=new d(l)))}return P(i,e),i}(e,t),n.name=a,n.j_x=e.x,n.j_y=e.y,n._動畫=e["_動畫"],n}function S(e){for(var t=0;t<_.length;t++)for(var n=_[t].frames,a=0;a<n.length;a++){var r=n[a];if(e===r.filename)return{key_txr:_[t].image,_切圖塊:r}}return null}function I(e,t,n){var a=e["_切圖塊"],r=90==a.angle,i=(t.rot,Math.PI,r&&Math.PI,r?a.frame.h:a.frame.w),o=r?a.frame.w:a.frame.h,s=(i=Math.ceil(Math.abs(i*t.sW)),o=Math.ceil(Math.abs(o*t.sH)),B.make.bitmapData(i,o));s.copy(e.key_txr,a.frame.x,a.frame.y,a.frame.w,a.frame.h,.5*i,.5*o,a.frame.w,a.frame.h,r?.5*-Math.PI:0,.5,.5,t.sW,t.sH);var l=B.make.image(0,0,s);return t.hasOwnProperty("R")&&(l.tint="0x"+x(t.R,t.G,t.B)),l.anchor.setTo(.5),!0===n||(l.position.setTo(t.x,t.y),l.scale.setTo(t.sW,t.sH),l.angle=-t.rot),l}function P(e,t){e.scale.setTo(t.sW,t.sH),e.centerX=t.x,e.centerY=t.y,e.angle=-t.rot}var k,B=new Phaser.Game(800,600,Phaser.CANVAS,"comic",{preload:function(){document.body.addEventListener("click",f),B.stage.backgroundColor="#4488AA",console.log("歡迎進入",document.baseURI," 皮飛比的世界"),B.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,B.scale.pageAlignHorizontally=!0,B.scale.pageAlignVertically=!0,B.stage.disableVisibilityChange=!0,B.load.baseURL=R.baseURL,B.load.json("j_共用_話圖資源頁","../Game_Comics/Assets/CcTextAssets/_共用_話圖資源頁.json")},create:function(){for(var e=new Phaser.Loader(B),t=B.cache.getJSON("j_共用_話圖資源頁").textures,n=0;n<t.length;n++){var a=t[n];e.image(a.image,a.url)}e.onLoadComplete.add(y),e.start()}});function f(e){switch(console.log(e,e.target),e.target.id){case"btn MenuMain Start":menu_in=menu[param_lobby.Menu_GamePicking.id],loadDoc(void 0,R.Menu_GamePicking,menu_in,[SetMenuIO,[menu[param_lobby.Menu_Main.id],"777px","DownBack",C]]);break;case"btn MenuMain Help":menu_in=menu[param_lobby.Menu_Help.id],loadDoc(void 0,R.Menu_Help,menu_in,[SetMenuIO,[menu[param_lobby.Menu_Main.id],"777px","DownBack"]]);break;case"btn MenuMain Option":menu_in=menu[param_lobby.Menu_Options.id],loadDoc(void 0,R.Menu_Options,menu_in,[SetMenuIO,[menu[param_lobby.Menu_Main.id],"777px","DownBack"]]);break;case"btn MenuGamePicking Play":var t=document.getElementById("scrl 篇集索引").id_選中鈕,n=document.getElementById("scrl 章回索引").id_選中鈕,r=k.content[t][n].key;switch(r){case"":alert("本章回"+e品項狀態[r]+"可選擇其他已經開放的。");break;case"0":Go_觀遊聆戲(t,n);break;case"1":if(confirm("本回內容需要收一張觀聆票卷\n確定支付？"))if(uData.av_ticket){var s=new Date,l=(""+s.getFullYear()+(s.getMonth()+1)).substring(2);uData.id_篇集=t,uData.id_章回=n,o(a.game_menu,eCS.進入聆遊觀戲,[i.sr,i.sr],[EncodeUtf8(l),EncodeUtf8(k.content[t][n].date_time)])}else alert("目前您沒有觀聆票卷")}break;case"btn MenuGamePicking Back":default:break;case"pop_m機台有人":e.target.classList.toggle("show")}"scrl 話頁"===e.target.parentNode.id&&(b.forEach((function(e,t,n){n[t].destroy(!0)})),b=[],d._目前步=0,d._目前步已讀完td=0,e.target.parentNode.id_選中鈕=e.target.id,document.getElementById("sel 選頁").innerHTML="目前選擇第"+(parseInt(e.target.id)+1)+" 話頁：",function(e){var t=new Phaser.Loader(B);t.json("j_lp","assets/CcTextAssets/Level_Chapter/act0/page"+e+".json"),t.onLoadComplete.add(M,this,0,e),t.start()}(parseInt(e.target.id)))}function C(){ExMenu(),Cc工具._載入("content.json","json",(function(e){var t=document.getElementById("scrl 篇集索引"),n=document.getElementById("scrl 章回索引");(k=e).part.sort((function(e,t){return e.no-t.no})),k.part.forEach((function(e){e.no=ch_數字[e.no+1]}));for(var a=0;a<k.content.length;a++)for(var r=0;r<k.content[a].length;r++){var i=k.content[a][r];k.content[a][r]=Object.assign({no:Get_中文數字(1+r)},i)}c(t,[],{_項目標題文:'                                <div style="width:100%; height:30%;"><b style="text-align: center; color:brown;">⌘{1}⌘ </b></div>                                <div style="width:88%; height:70%; justify-content:center;  align-items: center; display:flex;"><b style="color:yellow;">{0}</b></div>',releaseTime:490,力衰退intervalTime:49},"part"),c(n,[],{_項目標題文:'                                <div style="width:100%; height:20%; margin: 0 0;"><b style="text-align: center; color:lightgreen;">第{0}回</b></div>                                <div style="width:88%; height:40%;  align-items: center; justify-content:center; display:flex;"><b>{1}</b></div>                                <div style="width:100%; height:15%;color:blue;"><b>{2}票</b></div>                                <div style="width:100%; height:10%;color:lightred;"><b>人氣{3}點</b></div>                                <div style="width:100%; height:15%;">{4}</div>',releaseTime:490,力衰退intervalTime:49},"content"),U(t),U(n,t.id_選中鈕)}))}function D(){var e;(e=b[d._目前步]).visible=!0,e.alpha=1,e.getAt(0).visible=!0,e.getAt(0).alpha=1,function(e){B.add.tween(e).from({alpha:0},490,Phaser.Easing.Circular.InOut,!0).onComplete.add(L,null,null,e)}(e=b[d._目前步])}function L(e,t){if(0===e.tn.length)O(e.td.length>0?e:void 0);else{var n=e.tn[0];for(B.add.tween(n).to({alpha:1},490,Phaser.Easing.Circular.InOut,!0),B.add.tween(n).from({x:n._動畫.fX,y:n._動畫.fY,width:0,height:0,angle:n.angle-90},490,Phaser.Easing.Circular.InOut,!0).onComplete.add((function(){O(e.td.length>0?e:void 0)}));1<e.tn.length;index++)n=e.tn[1],B.add.tween(n).to({alpha:1},490,Phaser.Easing.Circular.InOut,!0),B.add.tween(n).from({x:n._動畫.fX,y:n._動畫.fY,alpha:0,width:0,height:0,angle:n.angle-90},490,Phaser.Easing.Circular.InOut,!0)}}function O(e,t){if(void 0!==e){var n=0,a=e.td[n];a.visible=!0,a.alpha=1,console.log(a.name,"_目前td字句框._讀字機.",a),B.add.tween(a).from({x:a._動畫.fX,y:a._動畫.fY,alpha:0,width:0,height:0},777,Phaser.Easing.Circular.InOut,!0).onComplete.add(j,null,null,a);var r=B.time.events.loop(280,(function(){1==a._讀字機.travels/a._讀字機._字句.length&&(d._目前步已讀完td>=e.td.length?(console.log("目前步已經讀完，換讀下步"),e.visible=!1,d._目前步++,d._目前步已讀完td=0,d._目前步>=b.length?d._目前步=0:setTimeout(D,490),B.time.events.remove(r)):(n+=1,(a=e.td[n]).visible=!0,a.alpha=1,B.add.tween(a).from({x:a._動畫.fX,y:a._動畫.fY,alpha:0,width:0,height:0},777,Phaser.Easing.Circular.InOut,!0).onComplete.add(j,null,null,a))),console.log(d._目前步已讀完td,"_目前td文具框讀字進度",e.td.length)}))}}function j(e,t){void 0===e._話引箭號?e._讀字機._跑字句():B.add.tween(e._話引箭號).to({alpha:1},490,Phaser.Easing.Power1,!0).onComplete.add(e._讀字機._跑字句,e._讀字機)}l[7],document.init=function(){console.log("歡迎進入",document.baseURI," S話圖瀏覽器！！！\n",l)},"debug"!=l[0]&&function(t){try{var n=new Array("正在連線","已建立連線","正在關閉連線","已關閉連線");console.log("ws.connect 場次內容：",uData.gWS),(e=new WebSocket(uData.gWS)).binaryType="arraybuffer",document.getElementById("message"),console.log("Socket狀態：",n[e.readyState]),e.onopen=function(){!function(){console.log("cfg Rules _票auth_code：",l[3]);var t=parseInt(l[3],10);票碼=NaN===t?new Uint8Array([231,71,68,66]):new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255]),e.send(new Uint8Array([a.authorize,0])),o(a.authorize,r.授權AppGame,[i.u4,i.sr],[[255&t,t>>8&255,t>>16&255,t>>24&255],EncodeUtf8(l[2])])}()},e.onerror=function(e){alert("目前網路忙線，與伺服器連線已經中斷\n請稍後再試。")},e.onmessage=function(e){var t=new Uint8Array(e.data);console.log("Server的原生回傳(Raw FDBK) : ",t," 資料{Array}長度：",t.length),SCB[t[0]][t[1]](function(e){for(var t=[],n=2;n<e.length;){var a=e[n],r=e[n+1],o=0,s=n+2;if(!a)return alert(n+"< 料- 長度 >:"+a),void console.log(n,"< 料- 長度 >:"+e[n],"  < 類型 >:"+r);switch(r){case i.bl:case i.c1:break;case i.sa:for(var l,c=[],u=2,h=0;h<a;h++)l=e[_=n+u],c.push(DecodeUtf8(e.slice(_+1,_+l))),u+=l;a=u,t.push(c),o++;break;case i.sr:t.push(DecodeUtf8(e.slice(s,s+a))),a+=2;break;case i.s1:var d=DecodeUtf8(e.slice(s,s+a)).split(",");t.push(d),a+=2;break;case i.s2:case i.s3:case i.sm:break;case i.bt:for(c=[],u=2,h=0;h<a;h++){for(var _=n+u,g=0;g<8;g++)c.push(1&e[_]>>g);u+=1}a=u,t.push(c),o++;break;case i.i1:for(c=new Int8Array(a),u=2,h=0;h<a;h++)_=n+u,c[h]=e[_],u+=Int8Array.BYTES_PER_ELEMENT;a=u,t.push(c);break;case i.u1:for(c=new Uint8Array(a),u=2,h=0;h<a;h++)_=n+u,c[h]=e[_],u+=Uint8Array.BYTES_PER_ELEMENT;a=u,t.push(c);break;case i.i2:for(c=[],u=2,h=0;h<a;h++){_=n+u;var m=0;for(g=0;g<Int16Array.BYTES_PER_ELEMENT;g++)m|=e[_+g]<<8*g;c.push(m),u+=Int16Array.BYTES_PER_ELEMENT}a=u,t.push(c);break;case i.u2:for(c=[],u=2,h=0;h<a;h++){for(_=n+u,m=0,g=0;g<Uint16Array.BYTES_PER_ELEMENT;g++)m|=e[_+g]<<8*g;c.push(m),u+=Uint16Array.BYTES_PER_ELEMENT}a=u,t.push(c);break;case i.i4:for(c=[],u=2,h=0;h<a;h++){for(_=n+u,m=0,g=0;g<Int32Array.BYTES_PER_ELEMENT;g++)m|=e[_+g]<<8*g;c.push(m),u+=Int32Array.BYTES_PER_ELEMENT}a=u,t.push(c);break;case i.u4:for(c=[],u=2,h=0;h<a;h++){for(_=n+u,m=0,g=0;g<Uint32Array.BYTES_PER_ELEMENT;g++)m|=e[_+g]<<8*g;c.push(m),u+=Uint32Array.BYTES_PER_ELEMENT}a=u,t.push(c);break;case i.i8:case i.u8:case i.db:case i.fl:case i.de:case i.i1n:case i.u1n:case i.i2n:case i.u2n:case i.i4n:case i.u4n:case i.i8n:case i.u8n:case i.dbn:case i.fln:case i.den:case i.u1c:break;case i.pu:for(c=[],u=2,h=0;h<a;h++){for(_=n+u,m=0,g=0;g<Uint32Array.BYTES_PER_ELEMENT;g++)m|=e[_+g]<<8*g;c.push(m),localStorage.setItem(uData.gID+"_pu"+r.toString()+o,m),console.log("pu:::>",m),o++,u+=Uint32Array.BYTES_PER_ELEMENT}a=u,t.push(c);break;case i.pi:for(c=[],u=2,h=0;h<a;h++){for(_=n+u,m=0,g=0;g<Int32Array.BYTES_PER_ELEMENT;g++)m|=e[_+g]<<8*g;c.push(m),localStorage.setItem(uData.gID+"_pi"+r.toString()+o,m),console.log("pi:::>",m),o++,u+=Int32Array.BYTES_PER_ELEMENT}a=u,t.push(c);break;case i.ps:console.log("pos_本type料頭:::>",e.length,s,a),m=DecodeUtf8(e.subarray(s,s+a)),t.push(m),localStorage.setItem(uData.gID+"_ps",m),a+=2;case i.pf:case i.count:}n+=a}return console.log("Server回傳(FDBK)的萃取：",t),t}(t))},e.onclose=function(){console.log("網路狀態：",n[e.readyState])}}catch(e){alert("網路連線狀態發生錯誤\n"+e)}}();var R={baseURL:"https://raw.githubusercontent.com/Cc-Yen/7w/main/comic pfb/",Menu_Main:"https://raw.githubusercontent.com/Cc-Yen/7w/main/comic pfb/Menu_Main",Menu_TopBoard:"",Menu_Options:"",Menu_Store:"",Menu_Help:"",Menu_GamePicking:"https://raw.githubusercontent.com/Cc-Yen/7w/main/comic pfb/Menu_GamePicking",Menu_Game:""};function U(e,t){var n;void 0!==t?(t=parseInt(t),n=k[e.meta][t]):n=k[e.meta],e.btnDATA=[],console.log("_meta.名稱代號",n);for(var a=Object.getOwnPropertyNames(n[0]),r=0;r<n.length;r++){e.btnDATA.push({_標題變數值:[]});for(var i=0;i<a.length;i++){var o,s=a[i];switch(s){case"date_time":o=n[r][s].split(" ")[0];break;case"key":o=e品項狀態[n[r][s]];break;default:o=n[r][s]}e.btnDATA[r]._標題變數值.push(o)}}var l=e.getElementsByClassName("iBn");for(r=e.btnDATA.length;r<l.length;r++)e.btnDATA.push(null);e.Reset_BtnDATA()}})();